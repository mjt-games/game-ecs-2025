{"version":3,"file":"Systems.js","sourceRoot":"","sources":["../../src/system/Systems.ts"],"names":[],"mappings":"AAkCA,MAAM,CAAC,MAAM,OAAO,GAAG,GAAG,EAAE;IAC1B,MAAM,OAAO,GAAkB,EAAE,CAAC;IAElC,MAAM,SAAS,GAAG,CAChB,MAA0B,EAC1B,EAAE;QACF,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACvB,CAAC,CAAC;IAEF,OAAO;QACL,SAAS;QACT,OAAO;KACR,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { Component } from \"../type/Component\";\nimport { Entity } from \"../type/Entity\";\nimport { Query } from \"../type/Query\";\n\ntype CoreIdComponent = Component<\"core\", \"id\", number>;\ntype CoreTagComponent = Component<\"core\", \"tag\", string[]>;\ntype PositionComponent = Component<\n  \"world\",\n  \"position\",\n  { x: number; y: number; z?: number }\n>;\nexport type System<Components extends Component[]> = (\n  entities: Entity<Components>[]\n) => Entity<Components>[] | void | null | undefined;\n\nexport type CoreRegisterSystemMessage<Components extends Component[]> =\n  Component<\n    \"core\",\n    \"registerSystem\",\n    {\n      name: string;\n      query: Query<Components>;\n    }\n  >;\n\nexport type CoreRunSystemMessage<Components extends Component[]> = Component<\n  \"core\",\n  \"runSystem\",\n  {\n    name: string;\n    entities: Entity<Components>[];\n  }\n>;\n\nexport const Systems = () => {\n  const systems: System<any>[] = [];\n\n  const addSystem = <Components extends Component[]>(\n    system: System<Components>\n  ) => {\n    systems.push(system);\n  };\n\n  return {\n    addSystem,\n    systems,\n  };\n};\n"]}